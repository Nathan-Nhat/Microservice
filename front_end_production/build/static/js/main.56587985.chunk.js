(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{131:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxANEg8PDw8PDQ8NEBAPDQ0QEhANDg0SIBEWFhUdEx8aHSggGBolGxMTIj0hJikrLi4uFyAzODMsNygtLisBCgoKDQ0NFQ0NDisdFR0rKystKy0rKysrNysrLS0rKzc3KysrKysrKysrKysrKysrKysrLSsrKysrKysrKysrN//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEBAAIDAQAAAAAAAAAAAAAAAQUGAwQHAv/EADoQAQACAQICBQkHAgcBAAAAAAABAgMEESExBQYSQVEyM1JhcYGRobFCYnJzssHREyIUIyQ0gqLhY//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A9xAAAAAAAABLWiOMztEc5nhAKMdqemsNOETOSfCvL48mNz9YLz5FK19u9pBsY1aOnc8ehP8AxcOr6UtljjXsz6VbXj5b7A26bRHfEPic9I+3WPfDRrWmeczPtnd8A9AGm6HpXJg2iJ7dO+luXu8G0aDX01Eb1njHlUnnUHaAAAAAAAAAAAAAAAAAABwazVVw1m9vdHfafUC6rJNKzMWrXbna++0fy1XpDVTknzlskR4x2a+6HzrtdfPO9p4R5NI5VdUBBAEABBAHJpdTbDaL0naY+Ex4T6nEgN502vx3pXJNq1i0crTEbT3w5seat/JtW3smJeflbTWd4mYmOUxwmAeiDAdXelL5JnFkt2p23paec+MT4s+AAAAAAAAAAAAAABMtR6V1s5rzP2K7xSPV4+9tebybeyfo0YBBAEABBAEEAQQBBAdno/LbHkresTP9Oe1bb0eVvlLfYnfjHKeTz3T57YrRek7Wry8Pf6m9dHaiubHS9Y2iY8n0ZjhMfIHZAAAAAAAAAAAAABw62dseT8FvpLSG76yP8vJ+C30lo4AgAggCCAIIAggAIoNy6r/7ev4r/Vpjc+rEf6enrtf9UgywCAAAAAAAAAAAAD4zRvW0eNZ+jRG+y0PLG1rR4TMfMHyggCCAIIAggAIoIIA3jq5G2nxevtT/ANpaM33oSu2DDH3In90HeAAAAAAAAAAAAABxajUUxR2r2isevv8AY0rW3rbJktXjW17WrPLhM7u71hzzfNavdjiKxHuiZYsBBAEEAQQAEUEEAQQCW+dEa3FkpWmO8WmlKxNeMWjaNuUtCcuj1E4r0vWdpraJ9sd8fAHpAkTvx8VQAAAAAAAAAAAAaT0x57L+P9nTZHrBi7Ga8919rR8Np+cSxoCCAIIACKCCAIIAggCDk0+Kcl6Ujne0Vj4g9H0/k0/DX6ORKxtER4RsqAAAAAAAAAAAADFdP9Hznp2qxvfHvMR6Ud8NQl6Ix+s6Hw5p7VqzW085rPZ39oNKR3umdJGDLalY2rtE17+G387ugACKCCAIIAggCD7wY5vatI53tFY987CONs3VPoyd/wDEXjaIiYxRPf4yyWLq3pq27XZtbb7Np3r8GXiNuEcIjlCKoAAAAAAAAAAAAAAAMB1s0u9aZY50ns29k8vn9WrvQ9RhjJW1LcYvExLQdbp7Yb2x251nn4x3SDhQRQQQBBAEEEGb6p6T+pm7cx/bhjf/AJTwj92EiN+EcZnhEeL0DoPQf4bFWs+Xb+7JPr/85AyACKAAAAAAAAAAAAAAAAMR1g6L/r17dI/zaRw+/Hgy4DzWeHDlPfHgjsdI+dy/mX/VLrKCCAIIIAkg2bqr0RvMajJHCPNVnvn0m1ur0X5nD+XT9MO0igAAAAAAAAAAAAAAAAOPNqKY43vetI+9MQDkGI1PWLT05TbJP3Y4fGWL1PWm8+bx1r67TNpBhukfO5fzL/ql1n1lyTebWnnaZtPdxmeL4UEEEAQBJEB6T0V5nD+VT9MO00jQdZ8uKtaWrTJWkRWOdbREMxputeC3C9b4p8ZjtV+X8IrPjrabX4cvm8tL+qJjf4c3ZAAAAAAAAAB19brKYKze87RHKO+0+EA7D5yZK1je0xWPGZiIafren82SZis/0q90V8r3yxeTLa3G1rWnxtM2+oNz1HTunx/b7c+FIm3z5MZqOtM8seKI+9ed/lH8tcRRkNT03qMnPJNY8KbU/wDWPvaZneZmZ8Z4yiAIIAgggCAIIAggCCAbu7pumNRi8jNfb0bf31+booDZtN1wyV4ZMVcnrrM0n92X0vWrTX8qbYp+9EzHxjdoSA9U0+qx5Y3x3pePu2iXM8lraY4xMxPjE7SyWi6wanDttknJWPsZN7x/MIr0gYroPpvHrInb+zJWN74548PGPGGVAAAaX1h1k5csxE/24t618N++fj9G4Z8nYra3o1tb4Ru87tbfeZ5zxkBBFBBAEEAQQQBAEEAQQBBAEEABAEEAQQHY0Grtp8lMtOdJ39sd8e+HqWDLGStb141vWLR7Jjd5I9G6oZu3pce/Ok2p8LTt8phFZkAHT6XttgzT/wDO0fLZoTeunZ/0+b8P7w0QBBFBBAEEEAQBBAEEAQQBBAAQBBAEEAQQBvfUO++C8ejln9MNDbx1A81m/Mj9MA2kBFdDp3/b5vw/vDQwBBBQQBEQARABEAEABEAEQARABEAEABEAEbx1A81m/Mj9MADaQEV//9k="},160:function(e,t,a){},184:function(e,t,a){e.exports=a.p+"static/media/background.028aba16.jpg"},185:function(e,t,a){},232:function(e,t,a){e.exports=a(698)},237:function(e,t,a){},238:function(e,t,a){},411:function(e,t){},698:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),l=(a(237),a(238),a(44)),c=a.n(l),s=a(21),m=a(2),d=a(186),u=a(12),g=a(747),p=a(748),f=a(749),b=a(750),E=a(76),h=a(194),y=a.n(h),v=a(743),w=a(27),_=a(10),A=function(e){return{type:"FETCH_USER",data:e}},O=function(e){return{type:"OPEN_NOTIF",data:e}},j=a(772),x=a(751),k=a(752),N=a(753),C=a(59),S=a.n(C),R=a(6),T=a(65),L=a.n(T),P=a(746),D=a(188),M=a.n(D),z=a(192),B=a.n(z),I=M()({palette:{primary:{main:B.a[500]}},typography:{button:{textTransform:"none"}}}),W=a(775),F=a(702),H=a(754),Q=a(755),U=a(195),q=a.n(U),G=a(196),K=a.n(G),Y=a(197),Z=a.n(Y),J=a(198),X=a.n(J),V=a(199),$=a.n(V),ee=a(131),te=a.n(ee),ae=a(132),ne=a.n(ae),re=Object(v.a)((function(e){return{root:{flexGrow:1},toolbar:{maxWidth:"1200px",width:"100%",padding:0,margin:"auto"},title:{flexGrow:1},link:{marginRight:"1rem"},search:{marginLeft:"1rem",paddingLeft:"0.2rem",borderRadius:"2rem",color:"white",backgroundColor:"rgba(255, 255, 255, .1)",width:function(e){return e.isMobile?"100%":"15rem"},maxWidth:function(e){return e.isMobile?"15rem":"100rem"},flexGrow:function(e){return e.isMobile?1:0},marginRight:"1rem",paddingRight:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, .3)"}},loginButton:{display:function(e){return e.isMobile?"none":""}}}})),oe=Object(R.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"},arrow:{color:"#f5f5f9"}}}))(j.a),ie=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=re({isMobile:e}),a=Object(w.g)(),n=Object(_.b)(),o=r.a.useState({search:""}),i=Object(u.a)(o,2),l=i[0],h=i[1];function v(e,t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(c.a.mark((function t(r,o){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),1===o?a.push("/login"):2===o?a.push("/signup"):3===o?a.push("/add_post"):4===o?a.push("/profile/".concat(z)):5===o?(localStorage.removeItem("jwt"),n(A({isAuthenticated:!1,id:0,name:"",email:""}))):a.push("/all_tags"),e&&T(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=r.a.useState(!1),C=Object(u.a)(j,2),R=C[0],T=C[1],D=Object(_.c)((function(e){return e.AuthenReducer})),M=D.isAuthenticated,z=D.id,B=D.user_avatar,U=D.name;return r.a.createElement(g.a,{position:"static",style:{boxShadow:"none",paddingLeft:"1rem"}},r.a.createElement(p.a,{className:t.toolbar},e?r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){T(!0)}},r.a.createElement(y.a,null)):null,r.a.createElement(b.a,{onClick:function(){a.push("/")}},r.a.createElement(E.a,{variant:"h5",style:{color:"white",fontWeight:"bold"}},"Blog")),r.a.createElement(oe,{disableHoverListener:!0,arrow:!0,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"))},r.a.createElement(x.a,{className:t.search,onKeyDown:function(e){"Enter"===e.key&&(a.push("/search?query=".concat(l.search)),h(Object(m.a)(Object(m.a)({},l),{},{search:""})))},id:"input-with-icon-textfield",disableUnderline:!0,onChange:function(e){var t=e.target.name,a=e.target.value;h(Object(m.a)(Object(m.a)({},l),{},Object(s.a)({},t,a)))},name:"search",value:l.search,startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"white"}}))})),r.a.createElement("div",{className:t.title}),e?r.a.createElement(W.a,{anchor:"left",open:R,onClose:function(){T(!1)}},r.a.createElement("img",{style:{height:"6rem",width:"6rem",margin:"2rem auto 1rem auto",borderRadius:"50%"},src:M?B:te.a}),M?r.a.createElement(E.a,{style:{textAlign:"center",fontWeight:"bold",marginBottom:"1rem"}},U):null,r.a.createElement(N.a,null),!1===M?r.a.createElement("div",null,r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,1)}},r.a.createElement(H.a,null,r.a.createElement(q.a,null)),r.a.createElement(Q.a,{primary:"Login"})),r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,2)}},r.a.createElement(H.a,null,r.a.createElement(K.a,null)),r.a.createElement(Q.a,{primary:"Signup",style:{marginRight:"4rem"}}))):r.a.createElement("div",null,r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,4)}},r.a.createElement(H.a,null,r.a.createElement(Z.a,null)),r.a.createElement(Q.a,{primary:"My Profile"})),r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,6)}},r.a.createElement(H.a,null,r.a.createElement(ne.a,null)),r.a.createElement(Q.a,{primary:"Tags",style:{marginRight:"4rem"}})),r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,3)}},r.a.createElement(H.a,null,r.a.createElement(X.a,null)),r.a.createElement(Q.a,{primary:"Add post",style:{marginRight:"4rem"}})),r.a.createElement(F.a,{button:!0,onClick:function(e){return v(e,5)}},r.a.createElement(H.a,null,r.a.createElement($.a,null)),r.a.createElement(Q.a,{primary:"Logout"})))):r.a.createElement("div",{className:t.loginButton},!1===M?r.a.createElement("div",null,r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return v(e,1)}},"Login"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return v(e,2)}},"Sign up")):r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return v(e,6)}},"Tags"),r.a.createElement(b.a,{color:"inherit",variant:"outlined",className:t.link,onClick:function(e){return v(e,3)}},"Add post"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return v(e,4)}},"My Profile"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return v(e,5)}},"Logout")))))},le=a(765),ce=a(57),se=a.n(ce),me="http://localhost:8000/auth",de="http://localhost:8000/profile",ue="http://localhost:8000/post",ge=a(15),pe=a(758),fe=a(759),be=a(760),Ee=a(757),he=a(137),ye=a.n(he);function ve(e,t,a){var n=null,r=t;return a&&null!==(n=localStorage.getItem("jwt"))&&(r=Object.assign({},t,{token:n},{user_id:null})),se()({method:"GET",url:e,params:r})}function we(e,t,a,n){var r=null,o=t;return n&&null!==(r=localStorage.getItem("jwt"))&&(o=Object.assign({},t,{token:r},{user_id:null})),se()({method:"POST",url:e,params:o,data:a})}function _e(e,t,a){var n=null,r=t;return a&&null!==(n=localStorage.getItem("jwt"))&&(r=Object.assign({},t,{token:n},{user_id:null})),se()({method:"DELETE",url:e,params:r})}function Ae(e,t,a,n){var r=null,o=t;return n&&null!==(r=localStorage.getItem("jwt"))&&(o=Object.assign({},t,{token:r},{user_id:null})),se()({method:"PUT",url:e,params:o,data:a})}var Oe=a(32),je=a.n(Oe),xe=Object(v.a)((function(e){return{container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"2rem auto":"6rem auto"},width:"100%",maxWidth:"25rem","&>*":{marginTop:"1rem"}},input:{borderRadius:"none",width:"100%"},buttonLogin:{boxShadow:"none",margin:"auto",padding:"0.7rem 1rem 0.7rem 1rem",alignSelf:"center","&:hover":{boxShadow:"none"}},title:{width:"100%",textAlign:"center",paddingBottom:"1rem"},moreOption:{display:"flex",flexDirection:"column",justifyContent:"center"},toSignup:{textAlign:"center"},forgotPassword:{textAlign:"center",color:e.palette.primary.dark,"&:hover":{cursor:"pointer",color:e.palette.primary.light}},responseSuccess:{fontStyle:"italic",border:"1px solid green",color:"green",fontSize:"0.8rem",padding:"0.6rem",borderRadius:"1rem",paddingBottom:"1rem",wordWrap:"break"},responseFail:{fontStyle:"italic",border:"1px solid red",color:"red",fontSize:"0.8rem",padding:"0.6rem",borderRadius:"1rem",paddingBottom:"1rem"},main:{padding:"1rem","&>*":{marginTop:"1rem"}}}})),ke=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=xe({isMobile:e}),a=Object(n.useState)({username:"",password:"",isOpen:!1,emailPass:"",emailConfirm:"",isSent:0,resMessage:"",is_confirm_open:!1}),o=Object(u.a)(a,2),i=o[0],l=o[1],c=Object(w.g)(),d=Object(w.h)(),g=je.a.parse(d.search).type,p=function(e){var t=e.target.value,a=e.target.name;l(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},a,t)))},f=Object(_.b)(),h=Object(_.c)((function(e){return e.AuthenReducer})).isAuthenticated,y=function(){l(Object(m.a)(Object(m.a)({},i),{},{isOpen:!1,isSent:0}))},v=function(){l(Object(m.a)(Object(m.a)({},i),{},{is_confirm_open:!1,isSent:0}))};return r.a.createElement("div",null,!1===h?r.a.createElement("div",{className:t.container},r.a.createElement(E.a,{variant:"h5",className:t.title},"LOGIN"),void 0===g?r.a.createElement("div",null):"0"===g?r.a.createElement(E.a,{className:t.responseSuccess},"Your account have been confirmed! Please login"):r.a.createElement(E.a,{className:t.responseFail},"Error when confirm your account.Please try again"),r.a.createElement("div",{className:t.main},r.a.createElement(le.a,{required:!0,id:"username",label:"Username",type:"text",name:"username",variant:"outlined",className:t.input,onChange:p}),r.a.createElement(le.a,{required:!0,id:"password",label:"Password",type:"password",name:"password",variant:"outlined",className:t.input,onChange:p}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){se.a.post(me+"/authenticate",i).then((function(e){localStorage.setItem("jwt",e.data.jwt);var t={isAuthenticated:!0,id:e.data.user_id,email:e.data.user_email,name:e.data.user_name,user_avatar:e.data.user_avatar};f(A(t)),d.state?c.push(d.state.nextUrl):c.push("/"),f(O({message:"Login Success",type:"success"}))})).catch((function(e){return f(O({message:e.response.data.message,type:"error"}))}))},className:t.buttonLogin}," Login")),r.a.createElement(N.a,{variant:"middle"}),r.a.createElement("div",{className:t.moreOption},r.a.createElement(E.a,{className:t.toSignup},"Don't have account yet? Click ",r.a.createElement(ge.b,{to:"/signup",style:{color:I.palette.primary.dark}},"Sign up")),r.a.createElement(E.a,{className:t.forgotPassword,onClick:function(){l(Object(m.a)(Object(m.a)({},i),{},{isOpen:!0}))}},"Forgot password?"),r.a.createElement(E.a,{className:t.forgotPassword,onClick:function(){l(Object(m.a)(Object(m.a)({},i),{},{is_confirm_open:!0}))}},"Not confirm your account yet?"))),r.a.createElement(Ee.a,{open:i.isOpen,onClose:y,"aria-labelledby":"form-dialog-title"},r.a.createElement(pe.a,{id:"form-dialog-forgot_password"},"Forgot Password"),r.a.createElement(fe.a,{style:{maxWidth:"20rem"}},r.a.createElement("div",null,0===i.isSent?r.a.createElement("div",null):1===i.isSent?r.a.createElement(E.a,{className:t.responseSuccess},"An email was sent to your email. Please check your email"):r.a.createElement(E.a,{className:t.responseFail},"Error when sending email.Please try again")),r.a.createElement("div",{className:t.main},r.a.createElement(le.a,{autoFocus:!0,margin:"dense",label:"Email",type:"email",value:i.emailPass,name:"emailPass",onChange:p,fullWidth:!0}),r.a.createElement(b.a,{style:{width:"100%",marginTop:"1rem"},color:"primary",variant:"contained",className:t.buttonLogin,onClick:function(){var e={email:i.emailPass};we(me+"/reset_password",{},e,!1).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isSent:1}))})).catch((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isSent:2}))}))}},r.a.createElement(ye.a,{style:{paddingRight:"1rem"}}),"Send"))),r.a.createElement(be.a,null,r.a.createElement(b.a,{onClick:y,color:"primary"},"Cancel"))),r.a.createElement(Ee.a,{open:i.is_confirm_open,onClose:v,"aria-labelledby":"form-dialog-confirm"},r.a.createElement(pe.a,{id:"form-dialog-confirm"},"Confirm account"),r.a.createElement(fe.a,{style:{maxWidth:"20rem"}},r.a.createElement("div",null,0===i.isSent?r.a.createElement("div",null):1===i.isSent?r.a.createElement(E.a,{className:t.responseSuccess},"An email reset password was sent to your email. Please check your email"):r.a.createElement(E.a,{className:t.responseFail},"Error when sending email.Please try again")),r.a.createElement("div",{className:t.main},r.a.createElement(le.a,{autoFocus:!0,margin:"dense",label:"Email",type:"email",value:i.emailConfirm,name:"emailConfirm",onChange:p,fullWidth:!0}),r.a.createElement(b.a,{style:{width:"100%",marginTop:"1rem"},color:"primary",variant:"contained",className:t.buttonLogin,onClick:function(){ve(me+"/re_confirm",{email:i.emailConfirm},!1).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isSent:1}))})).catch((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isSent:2}))}))}},r.a.createElement(ye.a,{style:{paddingRight:"1rem"}}),"Send"))),r.a.createElement(be.a,null,r.a.createElement(b.a,{onClick:v,color:"primary"},"Cancel")))):r.a.createElement(w.a,{to:"/"}))};function Ne(e){var t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");return!!e.match(t)}var Ce=Object(v.a)({container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"3rem auto":"6rem auto"},width:"100%",maxWidth:"25rem","&>*":{marginTop:"1rem"}},input:{borderRadius:"none",width:"100%"},title:{width:"100%",textAlign:"center"},textInput:{},buttonSignup:{boxShadow:"none",margin:"auto",padding:"0.7rem 1rem 0.7rem 1rem","&:hover":{boxShadow:"none"}},main:{padding:"0 1rem","&>*":{marginTop:"1rem"}}}),Se=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Ce({isMobile:e}),a=Object(_.b)(),o=Object(n.useState)({username:"",password:"",name:"",email:"",re_password:""}),i=Object(u.a)(o,2),l=i[0],c=i[1],d=function(e){var t=e.target.value,a=e.target.name;c(Object(m.a)(Object(m.a)({},l),{},Object(s.a)({},a,t)))},g=Object(_.c)((function(e){return e.AuthenReducer})).isAuthenticated;return r.a.createElement("div",null,!1===g?r.a.createElement("div",{className:t.container},r.a.createElement(E.a,{variant:"h6",className:t.title},"SIGN UP"),r.a.createElement("div",{className:t.main},r.a.createElement(le.a,{required:!0,label:"Username",type:"text",name:"username",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(le.a,{required:!0,label:"Name",type:"text",name:"name",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(le.a,{required:!0,label:"Email",type:"email",name:"email",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(le.a,{required:!0,label:"Password",type:"password",name:"password",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(le.a,{required:!0,label:"Re-Password",type:"password",name:"re_password",className:t.input,variant:"outlined",onChange:d}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){l.password===l.re_password?Ne(l.password)?!function(e){var t=new RegExp("^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$");return!!e.match(t)}(l.email)?a(O({message:"Invalid Email!",type:"error"})):""!==l.username&&""!==l.name?se.a.post(me+"/sign_up",l).then((function(e){a(O({message:"Sign up success,a mail is sent to your email to verify your account. Please check!",type:"success"}))})).catch((function(e){return a(O({message:"Fail when sign up",type:"error"}))})):a(O({message:"You need to fill all required field",type:"error"})):a(O({message:"Invalid Password! Password must be contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character",type:"error"})):a(O({message:"Your confirm password is not match. Please try again",type:"error"}))},className:t.buttonSignup}," Sign up")))):r.a.createElement(w.a,{to:"/"}))},Re=a(771),Te=a(133),Le=a.n(Te),Pe=(a(160),a(105)),De=a.n(Pe),Me=a(81),ze=a.n(Me),Be=a(756),Ie=a(700),We=a(139),Fe=a(773),He=a(761),Qe=a(200),Ue=a.n(Qe),qe=a(60),Ge=a.n(qe),Ke=Object(v.a)({container:{display:"flex",flexDirection:"row",padding:"1rem 0.5rem 0.5rem 0"},image:{width:function(e){return e.isMobile?"2.5rem":"3rem"},height:function(e){return e.isMobile?"2.5rem":"3rem"},borderRadius:"50%",marginRight:"0.5rem"},detail:{width:"100%",display:"flex",flexDirection:"column",position:"relative"},iconEdit:{position:"absolute",right:0},commentContainer:{display:"flex",paddingTop:"0.5rem",flexDirection:"row"},elementComment:{display:"flex",flexDirection:"row",paddingRight:"1rem",opacity:"0.3"},numComment:{fontSize:function(e){return e.isMobile?"0.9rem":"1rem"},paddingLeft:"0.2rem"},iconComment:{fontSize:function(e){return e.isMobile?"0.9rem":"1rem"},margin:"auto"},containerTitle:{textAlign:"left",paddingTop:"0.2rem"},title:{fontSize:"1.1rem",color:"black",textDecoration:"None","&:hover":{color:I.palette.primary}},tags:{display:"inline-block",fontSize:"0.8rem",backgroundColor:"#dee3e0",borderRadius:"0.2rem",marginLeft:"0.5rem",padding:"0.1rem 0.2rem 0.1rem 0.2rem",border:"1px solid #d7d9d7",opacity:"0.5","&:hover":{cursor:"pointer",boxShadow:"0px 2px 18px -8px rgba(0,0,0,0.75)",backgroundColor:"#d7d9d7"}},author:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},writer:{fontSize:"0.9rem",color:I.palette.primary.dark,textDecoration:"None",paddingRight:"1rem",opacity:"1","&:hover":{cursor:"pointer"}},namecontainer:{display:"flex",flexDirection:"row"}}),Ye=function(e){var t=e.post,a=e.user,n=Object(P.a)(I.breakpoints.down("md")),o=Ke({isMobile:n}),i=Object(_.c)((function(e){return e.AuthenReducer})),l=i.id,c=i.isAuthenticated,m=Object(w.g)(),d=r.a.useRef("123"),g=r.a.useState({isDeleted:!1}),p=Object(u.a)(g,2),b=p[0],h=p[1],y=r.a.useState(!1),v=Object(u.a)(y,2),A=v[0],O=v[1];return r.a.createElement(Re.a,null,b.isDeleted?null:r.a.createElement(Re.a,{className:o.container},r.a.createElement("img",{className:o.image,src:a.avatar_hash,alt:""}),r.a.createElement(Re.a,{className:o.detail},r.a.createElement("div",{align:"left",className:o.author},r.a.createElement("div",{className:o.namecontainer},r.a.createElement(ge.b,{className:o.writer,to:"/profile/".concat(a.user_id)},a.name)),n?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(E.a,{style:{fontSize:"0.8rem",opacity:"0.5",marginRight:"1rem"}},ze()(t.date_post).fromNow())),r.a.createElement(Re.a,{className:o.containerTitle},r.a.createElement(ge.b,{className:o.title,to:"/post/".concat(t.post_id)},t.title),t.tags.map((function(e,t){var a;return r.a.createElement("div",(a={key:t,className:o.tags},Object(s.a)(a,"key",t),Object(s.a)(a,"onClick",(function(){m.push("/tag/".concat(e.tag_id))})),a),e.tag_name)}))),r.a.createElement(Re.a,{className:o.commentContainer},r.a.createElement(Re.a,{className:o.elementComment},r.a.createElement(De.a,{className:o.iconComment}),r.a.createElement(E.a,{className:o.numComment},t.num_views)),r.a.createElement(Re.a,{className:o.elementComment},r.a.createElement(Le.a,{className:o.iconComment}),r.a.createElement(E.a,{className:o.numComment},t.num_comment)),r.a.createElement(Re.a,{className:o.elementComment,style:t.is_liked?{opacity:"1"}:{}},r.a.createElement(Ge.a,{color:t.is_liked?"primary":"inherit",className:o.iconComment}),r.a.createElement(E.a,{className:o.numComment},t.num_like)))),r.a.createElement("div",null,c&&l===a.user_id?r.a.createElement("div",null,r.a.createElement(f.a,{ref:d,"aria-controls":"menu-list-grow","aria-haspopup":"true",onClick:function(){O(!0)},size:"small"},r.a.createElement(Ue.a,{style:{fontSize:"1.5rem"}})),r.a.createElement(Be.a,{open:A,anchorEl:d.current,role:void 0,disablePortal:!0,onClose:function(){O(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(Ie.a,{in:!0},r.a.createElement(We.a,null,r.a.createElement(Fe.a,{id:"menu-list-grow"},r.a.createElement(He.a,{onClick:function(){m.push("/edit_post/".concat(t.post_id))}},"Edit"),r.a.createElement(He.a,{onClick:function(){_e(ue+"/".concat(t.post_id),{},!0).then((function(e){h({isDeleted:!0})}))}},"Delete")))))):null)))},Ze=a(766),Je=a(762),Xe=Object(R.a)({root:{borderBottom:"1px solid #e8e8e8"},indicator:{backgroundColor:I.palette.primary.main}})(Ze.a),Ve=Object(R.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,paddingRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:e.palette.primary.light,opacity:1},"&$selected":{color:e.palette.primary.dark,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.primary.main}},selected:{}}}))((function(e){return r.a.createElement(Je.a,Object.assign({disableRipple:!0},e))})),$e=function(){var e=Object(w.h)(),t=Object(w.g)(),a="/p/newest"===e.pathname?0:"/p/saved"===e.pathname?1:2,n=Object(_.c)((function(e){return e.AuthenReducer})),o=n.isAuthenticated;n.id;return r.a.createElement("div",{style:{}},r.a.createElement(Xe,{value:a,onChange:function(e,a){t.push(0===a?"/p/newest":1===a?"/p/saved":"/p/followed_tags")}},r.a.createElement(Ve,{label:"New Posts"}),o?r.a.createElement(Ve,{label:"Saved Posts"}):null,o?r.a.createElement(Ve,{label:"Followed Tags"}):null))},et=a(767),tt=Object(v.a)({root:{textAlign:"center"}}),at=function(){var e=Object(P.a)(I.breakpoints.down("md")),t=tt({isMobile:e}),a=Object(w.h)(),o=je.a.parse(a.search).page,i=a.pathname,l=Object(n.useState)({isLoading:!0,posts:[],total_pages:1,page:o}),c=Object(u.a)(l,2),s=c[0],d=c[1],g=Object(w.g)(),p=Object(_.c)((function(e){return e.AuthenReducer})),f=p.id,b=p.isAuthenticated;Object(n.useEffect)((function(){d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),ve(ue+"/get_all",b?{type:"/p/newest"===i?0:"/p/saved"===i?1:2,page:o||1,user_current_id:f}:{type:"/p/newest"===i?0:"/p/saved"===i?1:2,page:o||1},!1).then((function(e){d({isLoading:!1,posts:e.data.Post,page:e.data.page,total_pages:e.data.total_pages})}))}),[o,i]);return r.a.createElement("div",{className:t.root},!0===s.isLoading?null:r.a.createElement("div",null,"/p/followed_tags"===i?r.a.createElement("div",{style:{marginTop:"4rem",fontSize:"2rem"}},"Inprogress..."):r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,s.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Ye,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,s.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(et.a,{page:s.page,count:s.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,t){g.push("".concat(i,"?page=").concat(t))}}))))))},nt=Object(v.a)({container:{},title:{display:"flex",flexDirection:"row"},image:{height:"2.5rem",width:"2.5rem",borderRadius:"50%"},commentContainer:{display:"flex",flexDirection:"row"},elementComment:{display:"flex",flexDirection:"row",paddingRight:"1rem",opacity:"0.3"},numComment:{fontSize:"1rem",paddingLeft:"0.2rem"},iconComment:{fontSize:"1rem",margin:"auto"},titlePosts:{fontSize:"1rem",color:"black",textDecoration:"None","&:hover":{color:I.palette.primary}}}),rt=function(){var e=nt(),t=r.a.useState({isLoadding:!0,posts:[]}),a=Object(u.a)(t,2),n=a[0],o=a[1];return r.a.useEffect((function(){o(Object(m.a)(Object(m.a)({},n),{},{isLoadding:!0})),ve(ue+"/most_post",{},!1).then((function(e){o(Object(m.a)(Object(m.a)({},n),{},{isLoadding:!1,posts:e.data.post}))}))}),[]),r.a.createElement("div",{className:e.container},r.a.createElement(E.a,{style:{display:"inline-block",fontSize:"1.2rem",color:I.palette.primary.main}},"Popular Posts This Week"),r.a.createElement(N.a,{style:{margin:"0 0 0.7rem 0"}}),n.posts.map((function(t,a){return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(ge.b,{to:"/post/".concat(t.post_id),className:e.titlePosts},t.title),r.a.createElement(Re.a,{className:e.commentContainer},r.a.createElement(Re.a,{className:e.elementComment},r.a.createElement(De.a,{className:e.iconComment}),r.a.createElement(E.a,{className:e.numComment},t.num_views)),r.a.createElement(Re.a,{className:e.elementComment,style:t.is_liked?{opacity:"1"}:{}},r.a.createElement(Ge.a,{color:"inherit",className:e.iconComment}),r.a.createElement(E.a,{className:e.numComment},t.num_like))),r.a.createElement(ge.b,{to:"/profile/".concat(t.author.user_id),style:{fontSize:"0.8rem",opacity:"0.7",color:I.palette.primary.main}},t.author.name),r.a.createElement(N.a,{style:{margin:"0.7rem 0 0.7rem 0"}}))})))},ot=function(){return r.a.createElement("div",null)},it=Object(v.a)({root:{width:"400px",height:"400px",marginTop:"4rem",padding:"1rem",marginRight:"2rem",alignSelf:"flex-start",position:"sticky",top:0}}),lt=function(){var e=it();return r.a.createElement("div",{className:e.root},r.a.createElement(rt,null),r.a.createElement(ot,null))},ct=function(){var e=Object(P.a)(I.breakpoints.down("sm"));return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:e?"2rem 1rem 1rem 1rem":"4rem 0rem 2rem 2rem"}},r.a.createElement($e,null),r.a.createElement(w.b,{path:"/p/newest",component:at}),r.a.createElement(w.b,{path:"/p/saved",component:at}),r.a.createElement(w.b,{path:"/p/followed_tags",component:at})),e?null:r.a.createElement(lt,null))},st=a(202),mt=a.n(st),dt=a(203),ut=a.n(dt),gt=Object(v.a)({contents:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},image:{minWidth:"10rem",maxWidth:"10rem",height:"10rem",borderRadius:"0.5rem",margin:"auto"},main:{"&>*":{paddingBottom:"1rem"}}});function pt(e){var t=e.data,a=e.profileChange,n=Object(_.c)((function(e){return e.togglePopUpReducer.profile_popup})),o=Object(_.b)(),i=Object(P.a)(I.breakpoints.down("sm")),l=r.a.useState({fullName:t.fullName,email:t.email,about_me:t.about_me,address:t.address,avatar_hash:t.avatar_hash}),c=Object(u.a)(l,2),d=c[0],g=c[1],p=function(){o({type:"CLOSE_PROFILE_POPUP"})},f=function(e){var t=e.target.name,a=e.target.value;g(Object(m.a)(Object(m.a)({},d),{},Object(s.a)({},t,a)))},E=gt({isMobile:i});return r.a.createElement("div",null,r.a.createElement(Ee.a,{open:n,onClose:p,"aria-labelledby":"form-dialog-title"},r.a.createElement(pe.a,{id:"form-dialog-title"},"Profile"),r.a.createElement(fe.a,{className:E.contents},r.a.createElement("img",{className:E.image,src:d.avatar_hash,alt:""}),r.a.createElement(N.a,{orientation:i?"horizontal":"vertical",flexItem:!0,style:{margin:"0 1rem 0 1rem"}}),r.a.createElement("div",{className:E.main},r.a.createElement(le.a,{margin:"dense",label:"Full name",type:"text",value:d.fullName,name:"fullName",onChange:f,fullWidth:!0}),r.a.createElement(le.a,{margin:"dense",label:"Email Address",type:"email",value:d.email,fullWidth:!0,disabled:!0}),r.a.createElement(le.a,{margin:"dense",label:"Address",type:"text",value:d.address,fullWidth:!0,name:"address",onChange:f}),r.a.createElement(le.a,{margin:"dense",label:"About me",value:d.about_me,type:"text",fullWidth:!0,rows:"4",name:"about_me",onChange:f,multiline:!0}))),r.a.createElement(be.a,null,r.a.createElement(b.a,{onClick:p,color:"primary"},"Cancel"),r.a.createElement(b.a,{onClick:function(){var e={user_id:t.user_id,address:d.address,about_me:d.about_me,name:d.fullName};Ae(de+"/user_profile",{},e,!0).then((function(e){a(d),o({type:"CLOSE_PROFILE_POPUP"})})).catch((function(e){return o(O({message:"Fail to change user",type:"error"}))}))},color:"primary"},"Save"))))}var ft=a(201),bt=a.n(ft),Et=Object(v.a)({followerAvatar:{width:"1.8rem",height:"1.8rem",borderRadius:"50%","&:hover":{cursor:"pointer"}},imageContainer:{paddingTop:"0.5rem",display:"inline-grid",gridTemplateColumns:"auto auto auto auto auto auto auto auto auto auto",gridColumnGap:"0.7rem",gridRowGap:"0.8rem"},moreButton:{opacity:"0.7",fontSize:"1rem",margin:"auto","&:hover":{cursor:"pointer",opacity:"1"}}}),ht=function(e){var t=e.user_id,a=Et(),n=r.a.useState({followers:[],number_follower:0,user_name:"",isLoading:!0}),o=Object(u.a)(n,2),i=o[0],l=o[1],c=Object(w.g)();return r.a.useEffect((function(){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0})),ve(de+"/".concat(t,"/followers"),{},!0).then((function(e){l({isLoading:!1,followers:e.data.followers,number_follower:e.data.total_followers,user_name:e.data.user_name})}))}),[t]),r.a.createElement("div",{style:{paddingTop:"1rem"}},i.isLoading?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(E.a,{style:{paddingBottom:"0.2rem",opacity:"0.7"}},"".concat(i.number_follower," people following ").concat(i.user_name)),r.a.createElement("div",{className:a.imageContainer},i.followers.map((function(e,t){return r.a.createElement(j.a,{title:"".concat(e.user_name),interactive:!0,key:t},r.a.createElement("img",{alt:"",className:a.followerAvatar,src:e.user_avatar,onClick:function(){c.push("/profile/".concat(e.user_id))}}))})),i.number_follower-19<0?r.a.createElement("div",null):r.a.createElement(j.a,{title:"".concat(i.number_follower-19," other peoples"),interactive:!0},r.a.createElement(bt.a,{className:a.moreButton})))))},yt=Object(v.a)({rootContainer:{paddingTop:"2rem"},container:{display:"flex",flexDirection:"column",padding:function(e){return e.isMobile?"1rem":"2rem"}},image:{width:"4.5rem",height:"4.5rem",borderRadius:"0.5rem",margin:"0 1rem"},boxDetails:{paddingLeft:"2rem",display:"flex",flexDirection:"column"},nameText:{fontWeight:"bold",fontSize:"1rem"},element:{paddingTop:"1rem"},author:{paddingTop:"1rem",fontStyle:"italic",fontSize:"0.8rem"},button:{marginTop:"1rem",float:"left"},field:{display:"flex",flexDirection:"row"},followText:{display:"flex",flexDirection:"column",width:"33%",textAlign:"center"},imageContainer:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},followContainer:{width:"100%",display:"flex",flexDirection:"row"},titleContainer:{display:"flex",flexDirection:"row`"},followBtnProfile:{fontSize:"0.8rem",lineHeight:"0.8rem",display:"inline-block",marginLeft:"1rem",alignSelf:"flex-start",boxShadow:"none"},left:{width:function(e){return e.isMobile?"100%":"50%"}},right:{marginTop:function(e){return e.isMobile?"1rem":"0"},width:function(e){return e.isMobile?"100%":"50%"}}}),vt=function(e){var t=e.user_id,a=Object(P.a)(I.breakpoints.down("sm")),o=yt({isMobile:a}),i=Object(_.b)(),l=Object(n.useState)({isLoading:!0,fullName:"Anonymous",email:"anonymous@gmail.com",address:"",member_since:"06-01-1996",about_me:"N/A",avatar_hash:"",number_follower:0,number_followed:0,is_followed:!1,number_posts:0}),c=Object(u.a)(l,2),s=c[0],d=c[1],g=Object(_.c)((function(e){return e.AuthenReducer})),p=g.id,f=g.isAuthenticated;Object(n.useEffect)((function(){var e=f?{profile_id:t,my_user_id:p}:{profile_id:t};d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),ve(de+"/user_profile",e,!1).then((function(e){d({user_id:t,isLoading:!1,fullName:e.data.name,email:e.data.email,address:e.data.address,about_me:e.data.about_me,member_since:e.data.member_since,avatar_hash:e.data.avatar_hash,number_follower:e.data.number_follower,number_followed:e.data.number_followed,is_followed:e.data.is_followed,number_posts:e.data.total_posts})})).catch((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!1}))}))}),[t]);return r.a.createElement("div",{className:o.rootContainer},s.isLoading?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("div",{className:o.container},r.a.createElement("div",{className:o.imageContainer},r.a.createElement("div",{className:o.left},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("img",{className:o.image,src:s.avatar_hash,alt:""}),r.a.createElement("div",null,r.a.createElement("div",{className:o.titleContainer},r.a.createElement(E.a,{align:"left",className:o.nameText},s.fullName),f&&parseInt(t)!==p?s.is_followed?r.a.createElement(b.a,{variant:"contained",className:o.followBtnProfile,color:"primary",onClick:function(){_e(de+"/follow",{user_follow:t},!0).then((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{number_follower:s.number_follower-1,is_followed:!1}))}))}},"Following"):r.a.createElement(b.a,{variant:"outlined",color:"primary",className:o.followBtnProfile,onClick:function(){we(de+"/follow",{user_follow:t},null,!0).then((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{number_follower:s.number_follower+1,is_followed:!0}))}))}},"Follow"):r.a.createElement("div",null)),r.a.createElement("div",{className:o.field},r.a.createElement(mt.a,{style:{paddingRight:"0.5rem",fontSize:"1.2rem"}}),r.a.createElement(E.a,{style:{wordWrap:"break-word",wordBreak:"break-all",fontSize:"0.9rem"}},s.email)),r.a.createElement("div",{className:o.field},r.a.createElement(ut.a,{style:{paddingRight:"0.5rem",fontSize:"1.2rem"}}),r.a.createElement(E.a,{align:"left",style:{wordWrap:"break-word",wordBreak:"break-all",fontSize:"0.9rem"}},r.a.createElement("a",{href:"https://www.google.com/maps/place/".concat(s.address)},s.address))))),r.a.createElement("div",{style:{paddingLeft:"1rem"}},r.a.createElement(E.a,{className:o.element,align:"left"},s.about_me),r.a.createElement(E.a,{className:o.author,align:"left"},"Member since ",s.member_since.substr(0,10)),parseInt(t)===p?r.a.createElement(b.a,{className:o.button,variant:"outlined",onClick:function(){return i({type:"OPEN_PROFILE_POPUP"})}},"Edit Profile"):r.a.createElement("div",null))),r.a.createElement("div",{className:o.right},r.a.createElement("div",{className:o.followContainer},r.a.createElement("div",{className:o.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWERS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"green"}},s.number_follower)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:o.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWING"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"red"}},s.number_followed)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:o.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"POSTS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem"}},s.number_posts))),r.a.createElement(ht,{user_id:t}))),r.a.createElement(N.a,{style:{marginTop:"1rem"}}),r.a.createElement(pt,{data:s,profileChange:function(e){d(Object(m.a)(Object(m.a)({},s),{},{address:e.address,about_me:e.about_me,fullName:e.fullName}))}}))))},wt=function(e){var t=e.user_id,a=Object(w.h)(),o=Object(w.g)(),i=je.a.parse(a.search).page,l=Object(n.useState)({isLoading:!0,posts:[],user:{},page:i||1,itemPerPage:0,total_pages:1}),c=Object(u.a)(l,2),s=c[0],d=c[1];Object(n.useEffect)((function(){d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),ve(ue+"/".concat(t,"/posts"),{page:i||1},!1).then((function(e){d({isLoading:!1,posts:e.data.posts,user:e.data.user,page:e.data.page,itemPerPage:e.data.itemPerPage,total_pages:e.data.total_pages})}))}),[i]);return r.a.createElement("div",null,!0===s.isLoading?null:r.a.createElement(Re.a,{style:{textAlign:"center",padding:"0 1rem 1rem"}},r.a.createElement(Re.a,null,s.posts.map((function(e,t){return r.a.createElement(Ye,{post:e,user:s.user,key:t})}))),r.a.createElement(Re.a,null,s.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(et.a,{page:s.page,count:s.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,a){o.push("/profile/".concat(t,"?page=").concat(a))}})))))},_t=function(e){var t=e.user_id;return r.a.createElement("div",null,r.a.createElement(wt,{user_id:t}))},At=function(){var e=Object(w.i)().userId;return r.a.createElement("div",null,r.a.createElement(vt,{user_id:e}),r.a.createElement(_t,{user_id:e}))},Ot=a(71),jt=a.n(Ot),xt=a(204),kt=a(205),Nt=a(216),Ct=a(214),St=a(769),Rt=a(207),Tt=function(e){Object(Nt.a)(a,e);var t=Object(Ct.a)(a);function a(){return Object(xt.a)(this,a),t.apply(this,arguments)}return Object(kt.a)(a,[{key:"render",value:function(){var e=this.props,t=e.language,a=e.value;return r.a.createElement(St.a,{language:t,style:Rt.docco},a)}}]),a}(n.PureComponent);Tt.defaultProps={language:null,value:" "};var Lt=Tt,Pt=a(208),Dt=a.n(Pt),Mt=a(209),zt=a.n(Mt),Bt=Object(v.a)({wrapComment:{display:"flex",flexDirection:"row",padding:"0.5rem 0 0.5rem 0"},image:{width:"3rem",height:"3rem",borderRadius:"50%"},textComment:{backgroundColor:"rgba(168, 168, 168, 0.2)",marginLeft:"1rem",wordBreak:"break-all",padding:"1rem",borderRadius:"1rem",position:"relative"},titleComment:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},iconLikeContainer:{position:"absolute",display:"flex",flexDirection:"row",backgroundColor:"white",right:0,borderRadius:"1rem",padding:"0.05rem 0.2rem 0.05rem 0.2rem",marginRight:"0.5rem"},iconLike:{backgroundColor:"rgba(0, 55, 255,0.9)",borderRadius:"50%",color:"white",padding:"0.2rem",fontSize:"0.6rem",marginTop:"0.1rem"},numLike:{fontSize:"1rem",lineHeight:"1.2rem",marginLeft:"0.5rem"},date:{fontSize:"0.8rem",color:"gray"},name:{color:"blue"},navLink:{textDecoration:"none"},likeText:{color:function(e){return e.item.is_liked?"rgba(0, 55, 255,0.9)":"gray"},fontSize:"0.8rem",fontWeight:"bold","&:hover":{cursor:"pointer"}},iconDelete:{alignSelf:"center"}}),It=function(e){var t=e.item,a=e.post_id,n=e.changeLike,o=Bt({item:t}),i=Object(_.c)((function(e){return e.AuthenReducer})),l=i.isAuthenticated,c=i.id,s=Object(w.g)(),m=r.a.useState(!1),d=Object(u.a)(m,2),g=d[0],p=d[1];return r.a.createElement("div",null,g?null:r.a.createElement("div",{className:o.wrapComment},r.a.createElement("img",{className:o.image,src:t.user_comment.avatar_hash,alt:""}),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{className:o.textComment},r.a.createElement(E.a,{className:o.name},r.a.createElement(ge.b,{className:o.navLink,to:"/profile/".concat(t.user_comment.user_id)},t.user_comment.name)),r.a.createElement(E.a,{className:o.body},t.body_html),t.number_like<=0?null:r.a.createElement(We.a,{className:o.iconLikeContainer},r.a.createElement(Dt.a,{className:o.iconLike}),r.a.createElement(E.a,{className:o.numLike},t.number_like))),l&&c===t.user_comment.user_id?r.a.createElement(f.a,{className:o.iconDelete,size:"small",onClick:function(e){var a;a=t.comment_id,_e(ue+"/comments/".concat(a),{},!0).then((function(e){p(!0)}))}},r.a.createElement(zt.a,null)):null),r.a.createElement("div",{style:{marginTop:"0.2rem"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"1.5rem"}},r.a.createElement(E.a,{className:o.likeText,onClick:function(e){return r=t.comment_id,void(l?t.is_liked?_e(ue+"/comments/".concat(r,"/like"),{},!0).then((function(e){var a=t.number_like-1;n(t.comment_id,a,!1)})):we(ue+"/comments/".concat(r,"/like"),{},{},!0).then((function(e){var a=t.number_like+1;n(t.comment_id,a,!0)})):s.push({pathname:"/login",state:{nextUrl:"/post/".concat(a)}}));var r}},t.is_liked?"Liked":"Like"),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0,style:{margin:"0.3rem"}}),r.a.createElement(E.a,{className:o.date},ze()(t.date_comment).fromNow()))))))},Wt=Object(v.a)({container:{},commentContainer:{padding:function(e){return e.isMobile?0:"0 2rem"},display:"flex",flexDirection:"column","&>*":{paddingTop:"1rem"}},text_area:{width:"100%",height:"4rem",borderRadius:"0.2rem",boxSizing:"border-box",padding:"0.5rem"},addButton:{float:"right"},loadMore:{fontSize:"0.8rem",fontStyle:"italic",color:"blue","&:hover":{cursor:"pointer"}}}),Ft=function(e){var t=e.post_id,a=r.a.useState({page:1,isFinished:!1,list_comment:[]}),n=Object(u.a)(a,2),o=n[0],i=n[1],l=r.a.useState(""),c=Object(u.a)(l,2),s=c[0],d=c[1],g=Object(P.a)(I.breakpoints.down("sm")),p=Wt({isMobile:g}),f=Object(_.c)((function(e){return e.AuthenReducer})),h=f.isAuthenticated,y=f.id;r.a.useEffect((function(){ve(ue+"/comments/".concat(t),{page:o.page,item_per_page:5,current_user_id:h?y:0},!1).then((function(e){var t=!1;1===o.page&&1===e.data.total&&(t=!0),i(Object(m.a)(Object(m.a)({},o),{},{isFinished:t,list_comment:e.data.comments}))}))}),[]);var v=function(e,t,a){var n=o.list_comment.map((function(n,r){return n.comment_id===e&&(n.number_like=t,n.is_liked=a),n}));i(Object(m.a)(Object(m.a)({},o),{},{list_comment:n}))};return r.a.createElement("div",{className:p.container},r.a.createElement(E.a,{variant:"h5"},"Comments"),r.a.createElement("div",{className:p.commentContainer},!0===h?r.a.createElement("div",null,r.a.createElement("textarea",{className:p.text_area,value:s,name:"comment",onChange:function(e){e.target.name;var t=e.target.value;d(t)},placeholder:"Leave a comment here..."}),r.a.createElement("div",null,r.a.createElement(b.a,{color:"primary",className:p.addButton,variant:"contained",onClick:function(){we(ue+"/comments",{},{body:s,post_id:t},!0).then((function(e){var t=o.list_comment;t.unshift(e.data),i(Object(m.a)(Object(m.a)({},o),{},{comment:"",list_comment:t}))}))}},"Add comment"))):r.a.createElement(E.a,null,"Please ",r.a.createElement(ge.b,{to:"/login"},"login")," to leave a comment!"),r.a.createElement("div",null,o.list_comment.map((function(e,a){return r.a.createElement(It,{key:e.comment_id,item:e,post_id:t,changeLike:v})})),o.isFinished?r.a.createElement(Re.a,null,r.a.createElement(E.a,{className:p.loadMore}," ")):r.a.createElement(Re.a,null,r.a.createElement(E.a,{className:p.loadMore,onClick:function(e){var a=o.page+1;ve(ue+"/comments/".concat(t),{page:a,item_per_page:5,current_user_id:h?y:0},!1).then((function(e){var t=o.list_comment.concat(e.data.comments),n=!1;a===e.data.total&&(n=!0),i(Object(m.a)(Object(m.a)({},o),{},{page:a,isFinished:n,list_comment:t}))}))}},"Load more...")))))},Ht=a(210),Qt=a.n(Ht),Ut=a(211),qt=a.n(Ut),Gt=a(106),Kt=a.n(Gt),Yt=Object(v.a)({tableContent:{minWidth:"250px",maxWidth:"250px",alignSelf:"flex-start",padding:"2rem 2rem",overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto",float:"right",position:"sticky",top:0,display:"flex",flexDirection:"column",height:"100vh"},header1:{fontSize:"0.9rem",paddingTop:"0.5rem","&:hover":{cursor:"pointer",color:"blue"}},header2:{fontSize:"0.9rem",padding:"0.2rem",lineHeight:"1.2rem","&:hover":{cursor:"pointer",color:"blue"},paddingLeft:"1rem"},bodyContent:{padding:"0.6rem 1rem",height:"100%",overflow:"auto"},likeCmt:{display:"flex",flexDirection:"row",padding:"0rem 1rem 1rem 1rem",justifyContent:"center"}}),Zt=function(e){var t=e.parentData,a=(e.post_id,e.toggle_like),n=Yt();return r.a.createElement("div",{className:n.tableContent},r.a.createElement("div",{className:n.likeCmt},r.a.createElement("div",{style:{width:"45%",textAlign:"center"}},r.a.createElement(E.a,{variant:"h4"},t.data.num_like),r.a.createElement(E.a,{style:{fontSize:"0.8rem"}},"Saved")),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{style:{width:"45%",textAlign:"center"}},r.a.createElement(E.a,{variant:"h4"},t.data.num_comment),r.a.createElement(E.a,{style:{fontSize:"0.8rem"}},"Comments"))),r.a.createElement(b.a,{variant:t.data.is_liked?"outlined":"contained",style:{borderRadius:"2rem"},color:"primary",onClick:a},t.data.is_liked?r.a.createElement(Kt.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}):r.a.createElement(Ge.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}),t.data.is_liked?"Saved":"Save"),r.a.createElement(N.a,{style:{marginTop:"1rem"}}),r.a.createElement(E.a,{style:{padding:"1rem 0 0",fontWeight:"bold"}},"Table of contents"),r.a.createElement("div",{className:n.bodyContent},t.list_contents.map((function(e,t){return"H1"===e.tagName?r.a.createElement(E.a,{key:t,onClick:function(){e.scrollIntoView({behavior:"smooth",block:"start"})},className:n.header1}," ",e.textContent):r.a.createElement(E.a,{key:t,onClick:function(){e.scrollIntoView({behavior:"smooth",block:"start"})},className:n.header2}," ",e.textContent)}))))},Jt=a(212),Xt=a.n(Jt),Vt=Object(v.a)({root:{display:"flex",flexDirection:"row",paddingTop:function(e){return e.isMobile?"1rem":"2rem"}},main:{padding:function(e){return e.isMobile?"1rem":"2rem"},overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto",width:"100%"},title:{textAlign:"left",fontWeight:"bold",lineHeight:function(e){return e.isMobile?"2.3rem":"3rem"},fontSize:function(e){return e.isMobile?"1.7rem":"2rem"}},tagsContainer:{textAlign:"left",paddingTop:function(e){return e.isMobile?"1rem":"2rem"}},tags:{fontSize:"0.8rem",backgroundColor:"#dee3e0",borderRadius:"0.2rem",marginRight:"0.8rem",padding:"0.4rem",opacity:"0.7","&:hover":{cursor:"pointer",boxShadow:"0px 2px 18px -8px rgba(0,0,0,0.75)"}},author:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"},paddingBottom:function(e){return e.isMobile?"1rem":"3rem"}},image:{width:"3rem",height:"3rem",borderRadius:"50%",marginRight:function(e){return e.isMobile?"0.5rem":"1rem"},gridRowStart:1,gridRowEnd:3},body:{paddingTop:"2.5rem",textAlign:"left"},authorButton:{display:"inline-grid",gridTemplateColumns:"auto auto auto",alignSelf:"flex-start"},name:{textDecoration:"None",fontSize:"1rem",lineHeight:"1.6rem",textAlign:"center",fontWeight:"bold",display:"inline-block"},followBtn:{fontSize:"0.8rem",lineHeight:"0.8rem",display:"inline-block",marginLeft:"1rem"},followGrp:{display:"flex",flexDirection:"row",paddingRight:"1rem"},datePost:{opacity:"0.5",textAlign:function(e){return e.isMobile?"left":"right"},paddingTop:function(e){return e.isMobile?"1rem":"0"}},likeMobile:{color:function(e){return e.state.data.is_liked?I.palette.primary.dark:"black"},opacity:function(e){return e.state.data.is_liked?1:.5},"&:hover":{cursor:"pointer"}}}),$t=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Object(w.i)().post_id,a=Object(n.useState)({list_contents:[],is_followed:!1,isLoading:!0,data:{title:"Title",tag:[],body:"Body",date_post:"20/3/2020",num_like:0,num_comment:0,num_views:0,is_liked:!1,author:{user_id:0,name:"N/A",avatar_hash:null,number_follower:0,number_posts:0}}}),o=Object(u.a)(a,2),i=o[0],l=o[1];Object(n.useEffect)((function(){if(!1===i.isLoading){var e=Array.from(h.current.querySelectorAll("h1, h2"));l(Object(m.a)(Object(m.a)({},i),{},{list_contents:e}))}}),[i.isLoading]);var c=Object(_.c)((function(e){return e.AuthenReducer})),d=c.id,g=c.isAuthenticated,p=Vt({isMobile:e,state:i}),f=Object(w.g)(),h=Object(n.useRef)("123");Object(n.useEffect)((function(){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0}));var e=g?{user_current_id:d}:{};ve(ue+"/".concat(t),e,!1).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{is_followed:e.data.author.is_followed,isLoading:!1,data:{title:e.data.title,tag:e.data.tags,body:e.data.body_html,date_post:e.data.date_post,is_liked:e.data.is_liked,num_comment:e.data.num_comment,num_like:e.data.num_like,num_views:e.data.num_views,author:{user_id:e.data.author.user_id,name:e.data.author.name,avatar_hash:e.data.author.avatar_hash,number_follower:e.data.author.number_follower,number_posts:e.data.author.num_posts}}}))}))}),[]);var y=function(){g?i.data.is_liked?_e(ue+"/".concat(t,"/like"),{},!0).then((function(e){return l(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{num_like:i.data.num_like-1,is_liked:!1})}))})):we(ue+"/".concat(t,"/like"),{},null,!0).then((function(e){return l(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{num_like:i.data.num_like+1,is_liked:!0})}))})):f.push({pathname:"/login",state:{nextUrl:"/post/".concat(t)}})};return r.a.createElement("div",null,!0===i.isLoading?r.a.createElement("div",null):r.a.createElement("div",{className:p.root},r.a.createElement("div",{className:p.main},r.a.createElement(Re.a,{className:p.container},r.a.createElement(Re.a,{className:p.author},r.a.createElement(Re.a,{className:p.authorButton},r.a.createElement("img",{className:p.image,src:i.data.author.avatar_hash,alt:""}),r.a.createElement(ge.b,{className:p.name,to:"/profile/".concat(i.data.author.user_id)},i.data.author.name),parseInt(i.data.author.user_id)===d?r.a.createElement("div",null):!1!==i.is_followed&&g?r.a.createElement(b.a,{variant:"contained",color:"primary",className:p.followBtn,onClick:function(){_e(de+"/follow",{user_follow:i.data.author.user_id},!0).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{author:Object(m.a)(Object(m.a)({},i.data.author),{},{number_follower:i.data.author.number_follower-1})}),is_followed:!1}))})).catch((function(e){}))}},"Following"):r.a.createElement(b.a,{variant:"outlined",className:p.followBtn,onClick:function(){g?we(de+"/follow",{user_follow:i.data.author.user_id},null,!0).then((function(e){return l(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{author:Object(m.a)(Object(m.a)({},i.data.author),{},{number_follower:i.data.author.number_follower+1})}),is_followed:!0}))})).catch((function(e){})):f.push({pathname:"/login",state:{nextUrl:"/post/".concat(t)}})}},"Follow"),r.a.createElement(Re.a,{style:{display:"flex",flexDirection:"row",opacity:"0.5"}},r.a.createElement(Re.a,{className:p.followGrp},r.a.createElement(Qt.a,{style:{paddingRight:"0.2rem"}}),r.a.createElement(E.a,null,i.data.author.number_follower)),r.a.createElement(Re.a,{className:p.followGrp},r.a.createElement(qt.a,{style:{paddingRight:"0.2rem"}}),r.a.createElement(E.a,null,i.data.author.number_posts)))),e?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",null,r.a.createElement(E.a,{className:p.datePost},i.data.date_post),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",opacity:"1"}},e?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Xt.a,{style:{paddingRight:"0.3rem",opacity:.5}}),r.a.createElement(E.a,{style:{paddingRight:"0.5rem",opacity:.5}},i.data.num_views),e?r.a.createElement(Ge.a,{className:p.likeMobile,onClick:y}):null,e?r.a.createElement(E.a,{style:{paddingRight:"0.5rem",opacity:i.data.is_liked?"1":"0.5",color:i.data.is_liked?I.palette.primary.dark:"black"}},i.data.num_like):null))),r.a.createElement(E.a,{className:p.title},i.data.title),r.a.createElement(Re.a,{className:p.tagsContainer},i.data.tag.map((function(e,t){var a;return r.a.createElement("a",(a={key:t,className:p.tags},Object(s.a)(a,"key",t),Object(s.a)(a,"onClick",(function(){f.push("/tag/".concat(e.tag_id))})),a),e.tag_name)}))),r.a.createElement("div",{ref:h},r.a.createElement(jt.a,{className:"markdown",source:i.data.body,renderers:{code:Lt},escapeHtml:!1}))),r.a.createElement(N.a,null),r.a.createElement(Ft,{post_id:t})),e?null:r.a.createElement(Zt,{parentData:i,post_id:t,toggle_like:y})))},ea=a(763),ta=function(e,t){if(""!==e){var a=e.split(":",2);return"title"===a[0]?{type:"title",key_word:a[1],page:t}:"tags"===a[0]?{type:"tags",key_word:a[1],page:t}:1===a.length?{type:"body",key_word:a[0],page:t}:{type:"body",key_word:a[1],page:t}}},aa=0,na=1,ra=2,oa=Object(v.a)({container:{display:"flex",flexDirection:"row"},root:{padding:"3rem 1rem",width:"100%"},search:{fontSize:"2rem",border:"None",width:"100%","&:focus":{outline:"None"}},instructorContainer:{}}),ia=function(){var e=Object(w.h)(),t=Object(w.g)(),a=oa(),n=je.a.parse(e.search).page,o=je.a.parse(e.search).query,i=r.a.useState({queryWord:o,stateLoading:aa,result:{posts:[],total_pages:1,page:n||1,itemPerPage:0}}),l=Object(u.a)(i,2),c=l[0],d=l[1];return r.a.useEffect((function(){var t=ta(je.a.parse(e.search).query,n||1);ve(ue+"/search",t,!1).then((function(t){d(Object(m.a)(Object(m.a)({},c),{},{queryWord:je.a.parse(e.search).query,stateLoading:ra,result:{posts:t.data.Post,page:t.data.page,itemPerPage:t.data.itemPerPage,total_pages:t.data.total_pages}}))}))}),[e.search,e.page]),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.root},r.a.createElement(oe,{disableHoverListener:!0,arrow:!0,placement:"bottom-start",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"),r.a.createElement("ul",{className:a.instructorContainer},r.a.createElement("li",null,"Type 'keyword' to search on both title and body"),r.a.createElement("li",null,"Type 'title:keyword' to search on both title")))},r.a.createElement(x.a,{className:a.search,onKeyDown:function(e){if("Enter"===e.key){document.getElementById("input-with-search").blur();var t=ta(c.queryWord,0);d(Object(m.a)(Object(m.a)({},c),{},{stateLoading:na})),ve(ue+"/search",t,!1).then((function(e){d(Object(m.a)(Object(m.a)({},c),{},{stateLoading:ra,result:{posts:e.data.Post,page:e.data.page,itemPerPage:e.data.itemPerPage,total_pages:e.data.total_pages}}))}))}},id:"input-with-search",onChange:function(e){var t=e.target.name,a=e.target.value;d(Object(m.a)(Object(m.a)({},c),{},Object(s.a)({},t,a)))},name:"queryWord",value:c.queryWord,placeholder:"Enter keyword",startAdornment:r.a.createElement(k.a,null,r.a.createElement(L.a,{style:{paddingRight:"1rem",opacity:"0.5"}}))})),r.a.createElement("div",{style:{padding:"2rem 1rem"}},c.stateLoading===aa?r.a.createElement("div",null):c.stateLoading===na?r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(ea.a,{style:{paddingTop:"3rem"}})):r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,c.result.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Ye,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,c.result.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(et.a,{page:c.result.page,count:c.result.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,a){t.push("/search?query=".concat(o,"&page=").concat(a))}})))))))},la=Object(v.a)({root:{padding:"3rem 1rem 1rem 1rem"},tagsContainer:{display:"flex",flexDirection:"row",paddingBottom:"2rem"},tagImage:{fontSize:"4rem",color:"red",marginRight:function(e){return e.isMobile?"1rem":"3rem"},width:"4rem",height:"4rem",borderRadius:"50%"},tagNameContainer:{display:"flex",flexDirection:"column"},tagName:{fontSize:"1.2rem",fontWeight:"bold",marginRight:"1rem",gridColumnStart:1,gridColumnEnd:4},follow:{display:"flex",flexDirection:"row"},followerText:{fontSize:"0.9rem",lineHeight:"1.9rem"}}),ca=function(){var e=Object(w.i)().tag_id,t=Object(w.g)(),a=Object(_.c)((function(e){return e.AuthenReducer})),n=a.id,o=a.isAuthenticated,i=Object(w.h)(),l=je.a.parse(i.search).page,c=r.a.useState({isLoading:!1,tag_id:e,tag_name:"",url_image:"",posts:[],total_pages:0,page:l||1,itemPerPage:0,is_followed:!1,num_follower:0,total:0}),s=Object(u.a)(c,2),d=s[0],g=s[1];r.a.useEffect((function(){var t={};o&&(t={current_user_id:n}),g(Object(m.a)(Object(m.a)({},d),{},{isLoading:!0})),ve(ue+"/tags/".concat(e,"/post"),t,!1).then((function(e){g(Object(m.a)(Object(m.a)({},d),{},{isLoading:!1,tag_id:e.data.tag_id,tag_name:e.data.tag_name,url_image:e.data.url_image,posts:e.data.Post,total_pages:e.data.total_pages,page:e.data.page,itemPerPage:e.data.itemPerPage,is_followed:e.data.is_followed,num_follower:e.data.num_follower,total:e.data.total}))}))}),[e,l]);var p=Object(P.a)(I.breakpoints.down("sm")),f=la({isMobile:p});return r.a.createElement("div",null,d.isLoading?r.a.createElement("div",null):r.a.createElement("div",{className:f.root},r.a.createElement(Re.a,{className:f.follow},r.a.createElement("div",{className:f.tagsContainer},r.a.createElement("img",{className:f.tagImage,src:d.url_image,alt:""}),r.a.createElement("div",{style:{display:"inline-grid",gridTemplateColumns:"auto auto auto"}},r.a.createElement(E.a,{className:f.tagName},d.tag_name),r.a.createElement(E.a,{className:f.followerText},r.a.createElement("a",{style:{color:"green"}},d.total," "),"Posts"),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0,style:{margin:"0.3rem"}}),r.a.createElement(E.a,{className:f.followerText},r.a.createElement("a",{style:{color:"green"}},d.num_follower," "),"Followers"))),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Re.a,null,d.is_followed?r.a.createElement(b.a,{onClick:function(){_e(ue+"/tags/".concat(e,"/follow"),{},!0).then((function(e){return g(Object(m.a)(Object(m.a)({},d),{},{is_followed:!1,num_follower:d.num_follower-1}))}))},variant:"contained",color:"primary",style:{boxShadow:"none"}},"Unfollow"):r.a.createElement(b.a,{onClick:function(){o||t.push({pathname:"/login",state:{nextUrl:"/tag/".concat(e)}}),we(ue+"/tags/".concat(e,"/follow"),{},{},!0).then((function(e){return g(Object(m.a)(Object(m.a)({},d),{},{is_followed:!0,num_follower:d.num_follower+1}))}))},variant:"outlined",color:"primary"},"Follow"))),r.a.createElement(N.a,null),r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,d.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Ye,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,d.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(et.a,{page:d.page,count:d.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(a,n){t.push("/tag/".concat(e,"?page=").concat(n))}}))))))},sa=Object(v.a)({container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"5rem auto":"6rem auto"},width:"100%",maxWidth:"25rem"},main:{padding:"1rem","&>*":{marginTop:"1rem"}},input:{width:"100%",borderRadius:"none"},title:{textAlign:"center"}}),ma=function(){var e=Object(w.h)(),t=Object(P.a)(I.breakpoints.down("sm")),a=je.a.parse(e.search),n=a.token,o=a.user_id,i=r.a.useState({user_id:o,token:n,password:"",re_password:""}),l=Object(u.a)(i,2),c=l[0],d=l[1],g=Object(w.g)(),p=function(e){var t=e.target.name,a=e.target.value;d(Object(m.a)(Object(m.a)({},c),{},Object(s.a)({},t,a)))},f=Object(_.b)(),h=sa({isMobile:t});return r.a.createElement("div",null,r.a.createElement("div",{className:h.container},r.a.createElement(E.a,{variant:"h5",className:h.title},"RESET PASSWORD"),r.a.createElement("div",{className:h.main},r.a.createElement(le.a,{required:!0,label:"Password",type:"password",name:"password",variant:"outlined",className:h.input,onChange:p}),r.a.createElement(le.a,{required:!0,label:"Re-password",type:"password",name:"re_password",variant:"outlined",className:h.input,onChange:p}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){if(c.password===c.re_password)if(Ne(c.password)){var e={user_id:c.user_id,token:c.token,password:c.password};we(me+"/change_password",{},e,!1).then((function(e){f(O({message:"Success! Please login with new password",type:"success"})),g.push("/login")})).catch((function(e){f(O({message:"There is some error.Please try again",type:"Error"}))}))}else f(O({message:"Invalid Password! Password must be contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character",type:"error"}));else f(O({message:"Your confirm password is not match. Please try again",type:"error"}))},className:h.buttonLogin},"Change password")))))},da=(a(184),a(213)),ua=a.n(da),ga=Object(v.a)({root:{display:"flex",flexDirection:"row"},image:{height:"7rem",width:"7rem",borderRadius:"0.5rem"},detail:{paddingLeft:"0.8rem"},titleTag:{}}),pa=function(e){var t=e.tag,a=Object(P.a)(I.breakpoints.down("sm")),n=ga({isMobile:a}),o=r.a.useState({is_followed:t.is_followed,num_following:t.num_following}),i=Object(u.a)(o,2),l=i[0],c=i[1],s=Object(_.c)((function(e){return e.AuthenReducer})),d=s.isAuthenticated,g=(s.id,Object(w.g)());return r.a.createElement("div",{className:n.root},r.a.createElement("img",{src:t.tag_image,className:n.image}),r.a.createElement("div",{className:n.detail},r.a.createElement(ge.b,{to:"/tag/".concat(t.tag_id)},r.a.createElement(E.a,{variant:"h6",className:n.titleTag},t.tag_name)),r.a.createElement(E.a,{style:{opacity:"50%",fontSize:"0.9rem"}},r.a.createElement("span",{style:{fontWeight:"bold"}},l.num_following)," Followers"),r.a.createElement(E.a,{style:{opacity:"50%",fontSize:"0.9rem"}},r.a.createElement("span",{style:{fontWeight:"bold"}},t.num_posts)," posts"),r.a.createElement(b.a,{variant:l.is_followed?"contained":"outlined",color:"primary",style:{padding:"0.1rem 1rem 0.1rem 1rem",marginTop:"0.7rem",boxShadow:"none"},onClick:function(){d?l.is_followed?_e(ue+"/tags/".concat(t.tag_id,"/follow"),{},!0).then((function(e){return c(Object(m.a)(Object(m.a)({},l),{},{is_followed:!1,num_following:l.num_following-1}))})):we(ue+"/tags/".concat(t.tag_id,"/follow"),{},{},!0).then((function(e){return c(Object(m.a)(Object(m.a)({},l),{},{is_followed:!0,num_following:l.num_following+1}))})):g.push({pathname:"/login",state:{nextUrl:"/all_tags"}})}},l.is_followed?r.a.createElement(Kt.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}):r.a.createElement(ua.a,{style:{fontSize:"1.1rem"}}),l.is_followed?"Followed":"Follow")))},fa=Object(v.a)({title:{marginTop:"2rem",padding:"1rem"},main:{display:"grid",gridTemplateColumns:function(e){return e.isMobile?"auto":"auto auto auto"},marginTop:function(e){return e.isMobile?"2rem":"3rem"}},tagContained:{padding:"1rem"},searchContainer:{marginTop:"1rem",padding:"1rem",width:"100%",boxSizing:"border-box"},search:{float:"right",border:"1px solid rgba(0,0,0,0.2)",padding:"0.2rem 0.6rem 0.2rem 0.6rem",borderRadius:"1rem",right:0,width:function(e){return e.isMobile?"100%":""}}}),ba=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=fa({isMobile:e}),a=Object(w.h)(),n=je.a.parse(a.search).page,o=je.a.parse(a.search).q,i=Object(w.g)(),l=r.a.useState({isLoading:!1,page:n||1,total_pages:0,total_tags:0,tags:[]}),c=Object(u.a)(l,2),d=c[0],g=c[1],p=Object(_.c)((function(e){return e.AuthenReducer})),f=(p.isAuthenticated,p.id);r.a.useEffect((function(){g(Object(m.a)(Object(m.a)({},d),{},{isLoading:!0})),ve(ue+"/tags",{page:n,current_user_id:f,query_tag:o},!1).then((function(e){g(Object(m.a)(Object(m.a)({},d),{},{total_tags:e.data.total_tags,isLoading:!1,total_pages:e.data.total_pages,page:n,tags:e.data.tags}))}))}),[n,o]);var b=r.a.useState({queryWord:""}),h=Object(u.a)(b,2),y=h[0],v=h[1];return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(E.a,{variant:"h4",className:t.title},"Tags ",r.a.createElement("span",null,"(".concat(d.total_tags,")"))),r.a.createElement(N.a,{variant:"middle"}),r.a.createElement("div",{className:t.searchContainer},r.a.createElement(oe,{disableHoverListener:!0,arrow:!0,placement:"bottom-start",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"))},r.a.createElement(x.a,{className:t.search,onKeyDown:function(e){"Enter"===e.key&&i.push("/all_tags?q=".concat(y.queryWord,"&page=",1))},id:"input-with-tags",variant:"outlined",disableUnderline:!0,onChange:function(e){var t=e.target.value,a=e.target.name;v(Object(m.a)(Object(m.a)({},y),{},Object(s.a)({},a,t)))},name:"queryWord",value:y.queryWord,placeholder:"Enter keyword",startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{marginRight:"0.4rem",opacity:"0.5"}}))}))),r.a.createElement("div",{className:t.main},d.tags.map((function(e,a){return r.a.createElement("div",{className:t.tagContained,key:e.tag_id},r.a.createElement(pa,{tag:e}))}))),r.a.createElement(Re.a,null,d.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(et.a,{page:d.page,count:d.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,t){i.push("/all_tags?q=".concat(y.queryWord,"&page=").concat(t))}}))))},Ea=Object(v.a)({container:{width:"100%",maxWidth:"1200px",margin:"auto"},textInput:{}}),ha=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Ea({isMobile:e});return r.a.createElement("div",{className:t.container},r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/login",component:ke}),r.a.createElement(w.b,{path:"/signup",component:Se}),r.a.createElement(w.b,{exact:!0,path:"/"},r.a.createElement(w.a,{to:"/p/newest"})),r.a.createElement(w.b,{path:"/p",component:ct}),r.a.createElement(w.b,{path:"/profile/:userId",component:At}),r.a.createElement(w.b,{path:"/post/:post_id",component:$t}),r.a.createElement(w.b,{path:"/search",component:ia}),r.a.createElement(w.b,{path:"/tag/:tag_id",component:ca}),r.a.createElement(w.b,{path:"/change_password",component:ma}),r.a.createElement(w.b,{path:"/all_tags",component:ba})))},ya=a(51),va={posts:[]},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_DETAILS_SUCCESS":return{posts:t.data.posts};default:return e}},_a={isOpen:!1,data:{message:"",type:"success"}},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIF":return{isOpen:!0,data:{message:t.data.message,type:t.data.type}};case"CLOSE_NOTIF":return Object(m.a)(Object(m.a)({},e),{},{isOpen:!1});default:return e}},Oa={isAuthenticated:!1,id:0,name:"",email:"",user_avatar:""},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return e={isAuthenticated:t.data.isAuthenticated,id:t.data.id,name:t.data.name,email:t.data.email,user_avatar:t.data.user_avatar};default:return e}},xa={profile_popup:!1},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PROFILE_POPUP":return Object(m.a)(Object(m.a)({},e),{},{profile_popup:!0});case"CLOSE_PROFILE_POPUP":return Object(m.a)(Object(m.a)({},e),{},{profile_popup:!1});default:return e}},Na=function(e){return Object(ya.c)({UserDetailsReducer:wa,NotifyReducer:Aa,AuthenReducer:ja,togglePopUpReducer:ka})},Ca=a(215),Sa=a(75),Ra=c.a.mark(Pa),Ta=c.a.mark(Da),La=c.a.mark(Ma);function Pa(e){var t;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==e.data.type){a.next=7;break}return a.next=4,Object(Sa.a)(ve,ue+"/".concat(e.data.user_id,"/posts"),{},!1);case 4:return t=a.sent,a.next=7,Object(Sa.c)({type:"FETCH_USER_DETAILS_SUCCESS",data:t.data});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Sa.c)(O({message:"Error when fetch user post",type:"error"}));case 13:case"end":return a.stop()}}),Ra,null,[[0,9]])}function Da(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sa.d)("FETCH_USER_DETAILS",Pa);case 2:case"end":return e.stop()}}),Ta)}function Ma(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sa.b)(Da);case 2:case"end":return e.stop()}}),La)}var za=Ma;var Ba=a(774),Ia=a(35),Wa=Object(Ia.a)(),Fa="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({shouldHotReload:!1}):ya.d,Ha=Object(Ca.a)(),Qa=Object(Ba.a)(Wa),Ua=function(){var e=[Ha,Qa],t=[ya.a.apply(void 0,e)],a=Object(ya.e)(Na(Wa),Fa.apply(void 0,t));return Ha.run(za),a},qa=(a(185),a(107)),Ga=a.n(qa),Ka=Object(v.a)({root_container:{float:"left",width:"100%",padding:function(e){return e.isMobile?"1rem 0 1rem 0":"4rem 0 2rem 0"}},inputTitle:{fontSize:"2rem",border:"none",padding:"0.5rem",width:"100%",fontWeight:"bold","&:focus":{outline:"None"}},tags:{border:"none",width:"100%",padding:"1rem 0","&:focus":{outline:"None"}},bodyContianer:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"},padding:"2rem 0"},body_html:{fontSize:"1.2rem",width:function(e){return e.isMobile?"100%":"50%"},border:"1px solid #9494b8",boxSizing:"border-box","&:focus":{outline:"None"},padding:"1rem",height:"80vh"},buttonSave:{float:"right"},hintElementFocus:{display:"flex",flexDirection:"row",padding:"0.7rem","&:hover":{backgroundColor:"#42a5f5",cursor:"pointer"}}}),Ya=null,Za=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Ka({isMobile:e}),a=Object(n.useState)({title:"",tag:"",tags:[],body:"",isLoading:!1,isFocusedTags:!1}),o=Object(u.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({tags:[],is_focusing:!1}),d=Object(u.a)(c,2),g=d[0],p=d[1],f=function(e){var t=e.target.name,a=e.target.value;l(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},t,a)))};r.a.useEffect((function(){clearTimeout(Ya),""===i.tag?p(Object(m.a)(Object(m.a)({},g),{},{tags:[]})):Ya=setTimeout((function(){ve(ue+"/tags",{query_tag:i.tag},!1).then((function(e){return p(Object(m.a)(Object(m.a)({},g),{},{tags:e.data.tags}))}))}),2e3)}),[i.tag]);var h=Object(_.b)(),y=Object(_.c)((function(e){return e.AuthenReducer})),v=y.isAuthenticated,A=y.id;return r.a.useEffect((function(){return function(){clearTimeout(Ya)}}),[]),r.a.createElement("div",{className:t.root_container},v?r.a.createElement("div",{style:e?{padding:"1rem"}:{padding:"0 2rem 2rem 2rem"}},r.a.createElement(x.a,{className:t.inputTitle,placeholder:"Title",name:"title",value:i.title,onChange:f}),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(x.a,{name:"tag",className:t.tags,placeholder:"Input Tags",value:i.tag,disableUnderline:!0,onChange:f,onFocus:function(){l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0}))},onBlur:function(){g.is_focusing?l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0})):l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!1}))},onKeyDown:function(e){if("Enter"===e.key){var t=i.tags;if(i.tag.length>20)return void h(O({message:"Number character of tag must be smaller than 20",type:"error"}));t.includes(i.tag)||t.push(i.tag),l(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}},startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"black",opacity:"0.7"}}))}),i.isFocusedTags?r.a.createElement("div",{style:{width:"100%",zIndex:999,position:"absolute",backgroundColor:"#dedede",display:"flex",flexDirection:"column"}},g.tags.map((function(e,a){return r.a.createElement("div",{key:a,onMouseEnter:function(){p(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!0}))},onMouseLeave:function(){p(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!1}))},onClick:function(){return function(e){var t=i.tags;t.includes(e)||t.push(e),l(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}(e.tag_name)}},r.a.createElement("div",{className:t.hintElementFocus},r.a.createElement("img",{alt:"",style:{width:"2rem",height:"2rem",borderRadius:"50%"},src:e.url_image}),r.a.createElement(E.a,{style:{lineHeight:"2rem",paddingLeft:"1rem"}},e.tag_name)))}))):r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.tags.map((function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",backgroundColor:"rgba(211,47,47,0.2)",border:"1px solid red",padding:"0.3rem",borderRadius:"0.3rem",marginRight:"0.3rem"}},r.a.createElement(E.a,{style:{fontSize:"0.8rem",lineHeight:"1rem",color:"red"}},e),r.a.createElement(Ga.a,{style:{fontSize:"0.8rem",paddingLeft:"0.3rem",color:"red"},onClick:function(){return function(e){var t=i.tags;t.splice(e,1),l(Object(m.a)(Object(m.a)({},i),{},{tags:t}))}(t)}}))})))),r.a.createElement("div",{className:t.bodyContianer},r.a.createElement("textarea",{name:"body",className:t.body_html,placeholder:"Body",value:i.body,onChange:f}),e?null:r.a.createElement(jt.a,{className:"markdown_write",source:i.body,escapeHtml:!1,renderers:{code:Lt}})),r.a.createElement(b.a,{variant:"contained",color:"primary",className:t.buttonSave,onClick:function(){if(0!==i.tags.length){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0}));var e={title:i.title,body:i.body,author_id:A,tags:i.tags.join(",")};""===e.title|""===e.body?h(O({message:"Write something",type:"error"})):we(ue+"/",{},e,!0).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!1})),h(O({message:"Save post successful",type:"success"}))})).catch((function(e){h(O({message:"Save post fail. Try again",type:"error"}))}))}else h(O({message:"You need to put at least 1 tags.",type:"error"}))},C:!0},"Save")):r.a.createElement(w.a,{to:"/"}))},Ja=a(770),Xa=a(768);function Va(e){return r.a.createElement(Xa.a,Object.assign({elevation:6,variant:"filled"},e))}function $a(e){e.message,e.type;var t=Object(_.c)((function(e){return e.NotifyReducer})),a=Object(_.b)(),n=function(e,t){"clickaway"!==t&&a({type:"CLOSE_NOTIF"})};return r.a.createElement(Ja.a,{open:t.isOpen,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Va,{onClose:n,severity:t.data.type},t.data.message))}var en=a(764),tn=Object(v.a)({root_container:{float:"left",width:"100%",padding:function(e){return e.isMobile?"1rem 0 1rem 0":"4rem 0 2rem 0"}},inputTitle:{fontSize:"2rem",border:"None",width:"100%",fontWeight:"bold","&:focus":{outline:"None"}},tags:{border:"None",width:"100%",padding:"1rem 0","&:focus":{outline:"None"}},bodyContianer:{display:"flex",flexDirection:"row",padding:"2rem 0"},body_html:{fontSize:"1.2rem",width:function(e){return e.isMobile?"100%":"50%"},border:"1px solid #9494b8",boxSizing:"border-box","&:focus":{outline:"None"},padding:"1rem",height:"80vh"},button_save:{float:"right"},hintElementFocus:{display:"flex",flexDirection:"row",padding:"0.7rem","&:hover":{backgroundColor:"#42a5f5",cursor:"pointer"}}}),an=null,nn=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=tn({isMobile:e}),a=Object(n.useState)({title:"",tag:"",tags:[],body:"",isLoading:!1,isFocusedTags:!1}),o=Object(u.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({tags:[],is_focusing:!1}),d=Object(u.a)(c,2),g=d[0],p=d[1],f=function(e){var t=e.target.name,a=e.target.value;l(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},t,a)))};Object(n.useEffect)((function(){clearTimeout(an),""===i.tag?p(Object(m.a)(Object(m.a)({},g),{},{tags:[]})):an=setTimeout((function(){ve(ue+"/tags",{query_tag:i.tag},!1).then((function(e){return p(Object(m.a)(Object(m.a)({},g),{},{tags:e.data.tags}))}))}),2e3)}),[i.tag]);var h=Object(_.b)(),y=Object(_.c)((function(e){return e.AuthenReducer})),v=y.isAuthenticated,A=y.id,j=Object(w.i)().post_id;r.a.useEffect((function(){return ve(ue+"/".concat(j),{},!1).then((function(e){var t=e.data.tags.map((function(e){return e.tag_name}));l({tags:t,title:e.data.title,body:e.data.body_html,author_id:e.data.author.user_id})})),function(){clearTimeout(an)}}),[]);return r.a.createElement("div",{className:t.root_container},v?r.a.createElement("div",{style:e?{padding:"1rem"}:{padding:"0 2rem 2rem 2rem"}},r.a.createElement(x.a,{className:t.inputTitle,placeholder:"Title",name:"title",value:i.title,onChange:f}),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(x.a,{name:"tag",className:t.tags,placeholder:"Input Tags",value:i.tag,disableUnderline:!0,onChange:f,onFocus:function(){l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0}))},onBlur:function(){g.is_focusing?l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0})):l(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!1}))},onKeyDown:function(e){if("Enter"===e.key){var t=i.tags;t.includes(i.tag)||t.push(i.tag),l(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}},startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"black",opacity:"0.7"}}))}),i.isFocusedTags?r.a.createElement("div",{style:{width:"100%",zIndex:999,position:"absolute",backgroundColor:"#dedede",display:"flex",flexDirection:"column"}},g.tags.map((function(e,a){return r.a.createElement("div",{key:a,onMouseEnter:function(){p(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!0}))},onMouseLeave:function(){p(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!1}))},onClick:function(){return function(e){var t=i.tags;t.includes(e)||t.push(e),l(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}(e.tag_name)}},r.a.createElement(N.a,null),r.a.createElement("div",{className:t.hintElementFocus},r.a.createElement("img",{alt:"",style:{width:"2rem",height:"2rem",borderRadius:"50%"},src:e.url_image}),r.a.createElement(E.a,{style:{lineHeight:"2rem",paddingLeft:"1rem"}},e.tag_name)))})),r.a.createElement(N.a,null)):r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.tags.map((function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",backgroundColor:"rgba(211,47,47,0.2)",border:"1px solid red",padding:"0.3rem",borderRadius:"0.3rem",marginRight:"0.3rem"}},r.a.createElement(E.a,{style:{fontSize:"0.8rem",lineHeight:"1rem",color:"red"}},e),r.a.createElement(Ga.a,{style:{fontSize:"0.8rem",paddingLeft:"0.3rem",color:"red"},onClick:function(){return function(e){var t=i.tags;t.splice(e,1),l(Object(m.a)(Object(m.a)({},i),{},{tags:t}))}(t)}}))})))),r.a.createElement("div",{className:t.bodyContianer},r.a.createElement("textarea",{name:"body",className:t.body_html,placeholder:"Body",value:i.body,onChange:f}),e?null:r.a.createElement(jt.a,{className:"markdown_write",source:i.body,escapeHtml:!1,renderers:{code:Lt}})),r.a.createElement(b.a,{variant:"contained",color:"primary",className:t.button_save,onClick:function(){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0}));var e={post_id:j,title:i.title,body:i.body,author_id:A,tags:i.tags.join(",")};""===e.title|""===e.body?h(O({message:"Write something",type:"error"})):Ae(ue+"/",{},e,!0).then((function(e){l(Object(m.a)(Object(m.a)({},i),{},{isLoading:!1})),h(O({message:"Save post successful",type:"success"}))})).catch((function(e){h(O({message:"Save post fail. Try again",type:"error"}))}))},C:!0},"Save")):r.a.createElement(w.a,{to:"/"}))},rn=function(){var e=r.a.useState(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];r.a.useEffect((function(){null!==localStorage.getItem("jwt")?(n(!0),ve(me+"/verify_login",{},!0).then((function(e){var t={isAuthenticated:!0,id:e.data.user_id,name:e.data.user_name,email:e.data.user_email,user_avatar:e.data.user_avatar};o(A(t)),n(!1)})).catch((function(e){return n(!1)}))):n(!1)}),[]);var o=Object(_.b)();return r.a.createElement("div",null,!0===a?null:r.a.createElement(en.a,{theme:I},r.a.createElement(ge.a,null,r.a.createElement(ie,null),r.a.createElement(ha,null),r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/add_post",component:Za}),r.a.createElement(w.b,{path:"/edit_post/:post_id",component:nn}))),r.a.createElement($a,null)))},on=Ua();var ln=function(){return r.a.createElement(_.a,{store:on},r.a.createElement(rn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[232,1,2]]]);
//# sourceMappingURL=main.56587985.chunk.js.map